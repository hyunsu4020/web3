<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-lg-6 col-lg-offset-3">
        <form class="form-inline">
          <div class="well">
            <div class="upload-info">

              <div class="upload-image text-right">
                <div class="clear">
                  <i class="fa fa-times-circle delete" aria-hidden="true"></i>
                </div>
              </div>

              <div class="upload-data">
                <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                <input type="file" class="file-input" />
                <p>Click any where to select file!</p>
              </div>
              <!-- Upload image data-->

            </div>
            <!-- Upload info-->

          </div>
          <div id="hyperlink_text" style="display: block;">
          </div>
        </form>
      </div>

    </div>
  </div>
  <script>
    $('.clear').hide();

    function readURL(input) {

      if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function(e) {
          $('.upload-image img').attr('src', e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
      }
    }

    $(".file-input").change(function() {
      $('.upload-image').append('<img>');
      $('.upload-data').hide(); // From Stackoverflow answer
      $('.clear').show();
      readURL(this);
    });

    $(".clear").click(function() {
      $("img").remove();
      $(".clear").hide();
      $('.upload-data').show();
    });



    standardhtml = '';
    standardhtml += '<div class="" style="display: block;">';
    standardhtml += 'You can also provide a ';
    standardhtml += '<a class="url_input">link from the web</a>';
    standardhtml += '</div>';

    $('.hyperlink_text').html(standardhtml);

    $(".hyperlink_text a.url_input").click(function() {
      newhtml = '';
      newhtml += 'Link from the web ';
      newhtml += '<input class="form-control input-sm" placeholder="http://example.com/image.png" type="text">';
      newhtml += '<span class="separator"> | </span>';
      newhtml += '<a class="cancel" id="cancel">Cancel</a>';
      $('.hyperlink_text').html(newhtml);
    });




    $("#hhyperlink_text").on("click", "a.url_input", function() {
      alert('hello i am clicked');
    });
  </script>
</body>

</html>
